import{q as I,N as b,O as E,P as M,L as A,Q as C,R as $,V as B,h as L,W as N,I as j,H as Q,X,Y as m,d as w,s as k,a as Z,g as p,Z as z,_ as F,$ as G,a0 as J,a1 as K,a2 as U,M as x,f as ee,k as te,m as re,l as ae}from"./D4KI4Ps9.js";import{b as ne}from"./C0QaH9dC.js";const se=["touchstart","touchmove"];function ie(e){return se.includes(e)}function _e(e,t){{const r=document.body;e.autofocus=!0,I(()=>{document.activeElement===r&&e.focus()})}}let P=!1;function oe(){P||(P=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function V(e){var t=M,r=A;b(null),E(null);try{return e()}finally{b(t),E(r)}}function de(e,t,r,i=r){e.addEventListener(t,()=>V(r));const n=e.__on_r;n?e.__on_r=()=>{n(),i(!0)}:e.__on_r=()=>i(!0),oe()}const q=new Set,R=new Set;function ve(e){if(!L)return;e.onload&&e.removeAttribute("onload"),e.onerror&&e.removeAttribute("onerror");const t=e.__e;t!==void 0&&(e.__e=void 0,queueMicrotask(()=>{e.isConnected&&e.dispatchEvent(t)}))}function ue(e,t,r,i={}){function n(a){if(i.capture||y.call(t,a),!a.cancelBubble)return V(()=>r==null?void 0:r.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?I(()=>{t.addEventListener(e,n,i)}):t.addEventListener(e,n,i),n}function he(e,t,r,i,n){var a={capture:i,passive:n},u=ue(e,t,r,a);(t===document.body||t===window||t===document)&&B(()=>{t.removeEventListener(e,u,a)})}function pe(e){for(var t=0;t<e.length;t++)q.add(e[t]);for(var r of R)r(e)}function y(e){var O;var t=this,r=t.ownerDocument,i=e.type,n=((O=e.composedPath)==null?void 0:O.call(e))||[],a=n[0]||e.target,u=0,d=e.__root;if(d){var l=n.indexOf(d);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var v=n.indexOf(t);if(v===-1)return;l<=v&&(u=l)}if(a=n[u]||e.target,a!==t){C(e,"currentTarget",{configurable:!0,get(){return a||r}});var T=M,f=A;b(null),E(null);try{for(var s,o=[];a!==null;){var c=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+i];if(_!=null&&(!a.disabled||e.target===a))if($(_)){var[W,...Y]=_;W.apply(a,[e,...Y])}else _.call(a,e)}catch(g){s?o.push(g):s=g}if(e.cancelBubble||c===t||c===null)break;a=c}if(s){for(let g of o)queueMicrotask(()=>{throw g});throw s}}finally{e.__root=t,delete e.currentTarget,b(T),E(f)}}}let D=!0;function ye(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function fe(e,t){return H(e,t)}function ge(e,t){N(),t.intro=t.intro??!1;const r=t.target,i=L,n=p;try{for(var a=j(r);a&&(a.nodeType!==8||a.data!==Q);)a=X(a);if(!a)throw m;w(!0),k(a),Z();const u=H(e,{...t,anchor:a});if(p===null||p.nodeType!==8||p.data!==z)throw F(),m;return w(!1),u}catch(u){if(u===m)return t.recover===!1&&G(),N(),J(r),w(!1),fe(e,t);throw u}finally{w(i),k(n)}}const h=new Map;function H(e,{target:t,anchor:r,props:i={},events:n,context:a,intro:u=!0}){N();var d=new Set,l=f=>{for(var s=0;s<f.length;s++){var o=f[s];if(!d.has(o)){d.add(o);var c=ie(o);t.addEventListener(o,y,{passive:c});var _=h.get(o);_===void 0?(document.addEventListener(o,y,{passive:c}),h.set(o,1)):h.set(o,_+1)}}};l(K(q)),R.add(l);var v=void 0,T=U(()=>{var f=r??t.appendChild(x());return ee(()=>{if(a){te({});var s=re;s.c=a}n&&(i.$$events=n),L&&ne(f,null),D=u,v=e(f,i)||{},D=!0,L&&(A.nodes_end=p),a&&ae()}),()=>{var c;for(var s of d){t.removeEventListener(s,y);var o=h.get(s);--o===0?(document.removeEventListener(s,y),h.delete(s)):h.set(s,o)}R.delete(l),f!==r&&((c=f.parentNode)==null||c.removeChild(f))}});return S.set(v,T),v}let S=new WeakMap;function we(e,t){const r=S.get(e);return r?(S.delete(e),r(t)):Promise.resolve()}export{oe as a,D as b,_e as c,pe as d,he as e,ge as h,de as l,fe as m,ve as r,ye as s,we as u,V as w};
